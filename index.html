<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Closure</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <nav>
        <div class="navbar">
          <h1>whatthefork.is · <span class="accent topic">a closure</span class="accent"></h1>
          <div onclick="switchTheme()">
            <img src="./light.PNG" id="icon" />
          </div>
        </div>
      </nav>
    </header>

    <main>
      <p>
        Closures are confusing because they are an “invisible” concept.
      </p>

      <p>
        When you use an object, a variable, or a function, you do this
        intentionally. You <br> think: “I’m gonna need a variable here,” and add it
        to your code.
      </p>

      <p>
        Closures are different. By the time most people approach closures, they
        have <br>  already used them unknowingly many times — and it is likely that
        this is true for yourself, too. So learning closures is less about
        understanding a new concept and more about recognizing something you
        have already been doing for a while.
      </p>
      <h2>tl;dr</h2>
      <p>
        You have a closure when
        <strong> a function accesses variables defined outside of it.</strong>
      </p>
      <p>For example, this code snippet contains a closure:</p>
      <div class="code-snippet">
        <span class="code-text"> <span class="accent">let</span> users = ['Alice', 'Dan', 'Jessica'];</span> <br>
        <span class="code-text"> <span class="accent">let</span>  query = 'A';</span> <br>
        <span class="code-text"> <span class="accent">let</span>  user = users.filter(user => user.startsWith(query));</span> <br>
      </div>
      <p>
        Notice how user => user.startsWith(query) is itself a function. It uses
        the query variable. But the query variable is defined outside of that
        function. That’s a closure.
      </p>
      <hr />
      <p>
       <strong> You can stop reading here, if you want.</strong> The rest of this article approaches closures in a different way. Instead of explaining what a closure is, it will walk you through the process of discovering closures — like the first programmers did in the 1960s.
      </p>
      <hr />
      <h2>Step 1: Functions Can Access Outside Variables</h2>
      <p>
        To understand closures, we need to be somewhat familiar with variables
        and functions.
      </p>
      <div class="code-snippet">
        <span class="code-text"> <span class="accent">function </span> eat() {</span> <br>
        <span class="code-text"> &nbsp; <span class="accent">let</span>  food = 'cheese';</span> <br>
        <span class="code-text"> &nbsp; console.log(food + ' is good');</span> <br>
        <span class="code-text"> }</span> <br><br>
        <span class="code-text"> eat(); // Logs 'cheese is good'</span> <br>
      </div>
      <p>
        But what if we wanted to later change the food variable outside of the
        eat function? To do this, we can move the food variable itself out of
        our function into the top level.
      </p>
      
      <div class="code-snippet">
        <span class="code-text"> <span class="accent">let</span> food = 'cheese'; // We moved it outside {</span> <br>
        <span class="code-text"> <span class="accent">function </span> eat() {</span> <br>
        
        <span class="code-text"> &nbsp; console.log(food + ' is good');</span> <br>
        <span class="code-text"> }</span>
      </div>
      <p>This lets us change the food “from the outside” any time that we want to:</p>

      
      <div class="code-snippet">
        <span class="code-text">eat(); // Logs 'cheese is good'</span> <br>
        <span class="code-text"> food = 'pizza';</span> <br>
        
        <span class="code-text"> eat(); // Logs 'pizza is good'</span> <br>
        <span class="code-text"> food = 'sushi';</span>
        <span class="code-text">eat(); // Logs 'sushi is good'</span> <br>
      </div>

      <p>In other words, the food variable is no longer local to our eat function, but our eat function nevertheless has no trouble accessing it. <strong>Functions can access variables outside of them.</strong> Stop for a second and make sure that you have no problem with this idea. Once it has settled comfortably in your brain, move to the second step.

      </p>
    </main>
    <script src="script.js"></script>
  </body>
</html>
